{% extends 'users/InfoUser.html' %}
{% load i18n %}
{% load staticfiles %}
{% block extrastyle %}
    {{ block.super }}
    <!--<link rel="stylesheet" type="text/css" href="/static/dataset/css/createDataset.css">-->
    <link rel="stylesheet" type="text/css" href="/static/dataset/css/listDataset.css">
    <link rel="stylesheet" type="text/css" href="/static/users/css/pagination.css">
    <link rel="stylesheet" type="text/css" href="/static/general/css/filterToolbar.css">
    <link rel="stylesheet" type="text/css" href="/static/general/css/checkBoxFilter.css">
{% endblock %}
{% block content %}
    <div id="relativeContainer">
        <div id="containerPrincipal">
            <h1>Listagem dos Datasets</h1>
            {% include 'general/filterToolBarWithCheckBoxes.html' with linkAdd="sdgsdgsgd" %}
            <div id="datasetsBox">
                <table id="tabelaDatasets">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Normalized Mean</th>
                            <th>Normalized STD</th>
                            <th>NÂº CNN Models</th>
                        </tr>
                    </thead>
                    <script>
                        var counter = 0;
                    </script>
                    {% for dataset in object_list %}
                        <tr>
                            <td>
                                {{ dataset.id }}
                            </td>
                            <td>
                                <a href="{% url 'datasets:ListaDatasetByID' pk=dataset.id %}">{{ dataset.name }}</a>
                            </td>
                            <td>
                                {{ dataset.normalize_mean }}
                            </td>
                            <td>
                                {{ dataset.normalize_std }}
                            </td>
                            <td>
                                <div class="tooltip">
                                    {% for n_model in number_models %}
                                        {% if n_model.id  == dataset.id %}
                                            {{ n_model.numbermodels }}
                                        {% endif %}
                                    {% endfor %}
                                    <span class="tooltiptext">
                                        <script type="text/javascript">
                                            var x = 0;
                                        </script>
                                        {% for model in models %}
                                            {% if model.id == dataset.id %}
                                                {% if model.cnnmodel__name != None %}
                                                    <p>{{ model.cnnmodel__name }}</p>
                                                    <script type="text/javascript">
                                                        x = 1;
                                                    </script>
                                                {% endif %}
                                            {% endif %}
                                        {% endfor %}
                                    </span>
                                    <script type="text/javascript">
                                        if (x === 0){
                                            var span_class = document.getElementsByClassName('tooltiptext');
                                            span_class[{{ forloop.counter0 }}].innerHTML = "Nenhum" ;
                                        }
                                    </script>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
            {% block alertBox %}
                {% include 'general/alertBoxConfirmation.html' %}
            {% endblock %}
            {% block pagination %}
                {% include 'general/pagination.html' %}
            {% endblock %}
            </div>
            <div id="buttonOptions">
                <a href="{% url 'datasets:criaDataset' %}" class="criaDataset">Criar Novo</a>
            </div>
        </div>
    </div>
{% endblock %}